# Generated by Chef.
# Local modifications will be overwritten.

$ModLoad imuxsock.so
<% if node[:virtualization][:role] == "host" %>
$ModLoad imklog.so
<% end %>

# enable traditional timestamps
$ActionFileDefaultTemplate RSYSLOG_TraditionalFileFormat

# default permissions for all log files.
$FileOwner root
$FileGroup wheel
$FileCreateMode 0640
$DirCreateMode 0750

# include config files from /etc/rsyslog.d
$IncludeConfig /etc/rsyslog.d/*.conf

# filter rules
*.*;auth,authpriv,cron,kern,mail.none \
  -/var/log/messages

auth,authpriv.* \
  /var/log/auth.log

cron.* \
  -/var/log/cron.log

mail.* \
  -/var/log/mail.log

mail.info \
  -/var/log/mail.info

mail.warn \
  -/var/log/mail.warn

mail.err \
  /var/log/mail.err

*.error \
  /var/log/error.log

*.=debug \
  -/var/log/debug.log
<% if node[:virtualization][:role] == "host" %>

kern.* \
  /var/log/kern.log
<% end %>
